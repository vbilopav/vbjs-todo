<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="stylesheet" href="default.css">
    
    <title></title>
  </head>
  <body>

    <div>
      <template>

          ${
            <script>
                (() => {
                  _app.customElements.define({tag: "todo-item", src: "template!todo-item/todo-item.html"});
                  this.template.css.import("todo.css");
                  this.list = ["clean the house", "buy milk"];
                })()
            </script>
            }
            
            <div class="ToDo">
                <h1 class="ToDo-Header">VBJS To Do demo</h1>
                <div class="ToDo-Container">
                    <div class="ToDo-Content" id="content">
                        ${this.template.forEach(this.list, item => `
                            <todo-item>${item}</todo-item>
                        `)}
                    </div>
                    <input type="text" id="input" />
                    <div class="ToDo-Add" onclick="createNewToDoItem">+</div>
                </div>
            </div>
            
            ${
            <script>
                this.template.context = {
                    input: "", // initial value for input element
                    createNewToDoItem: () => {
                      let newElement = document.createElement("todo-item");
                      newElement.innerHTML = this.template.model.input.value;
                      this.template.model.content.appendChild(newElement);
                    }
                }
            </script>
            }
            
      </template>
    </div>

    <script nomodule>document.body.innerHTML ="<br />Please update your browser or install latest modern browser (other than Internet Explorer)"</script>
    <script type="module" src="/libs/vbjs.js"></script>

  </body>
</html>
